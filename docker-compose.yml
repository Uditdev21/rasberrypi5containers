services:
  stream1:
    image: ghcr.io/linuxserver/ffmpeg:version-6.1-cli
    container_name: stream1
    network_mode: host
    restart: always
    entrypoint: ["/bin/sh", "-c"]
    command: >
      ffmpeg -nostdin -hide_banner -loglevel error \
      -rtsp_transport tcp -fflags +genpts -rtbufsize 256M -use_wallclock_as_timestamps 1 \
      -i "rtsp://admin:Navya_83350@192.168.1.10:554/stream1" \
      -c:v libx264 -preset veryfast -tune zerolatency -b:v 2000k \
      -c:a aac -ar 44100 -b:a 128k \
      -f flv rtmp://49.50.74.61:6002/live/stream1

  stream2:
    image: ghcr.io/linuxserver/ffmpeg:version-6.1-cli
    container_name: stream2
    network_mode: host
    restart: always
    entrypoint: ["/bin/sh", "-c"]
    command:
      - >
        ffmpeg -rtsp_transport tcp -fflags +genpts -rtbufsize 256M -use_wallclock_as_timestamps 1
        -i rtsp://192.168.1.106:554/live/0/MAIN
        -c:v copy -c:a aac -ar 44100 -b:a 128k -f flv rtmp://49.50.74.61:6002/live/stream2


  stream3:
    image: ghcr.io/linuxserver/ffmpeg:version-6.1-cli
    container_name: stream3
    network_mode: host
    restart: always
    entrypoint: ["/bin/sh", "-c"]
    command:
      - >
        ffmpeg -rtsp_transport tcp -fflags +genpts -rtbufsize 256M -use_wallclock_as_timestamps 1
        -i rtsp://192.168.1.202:554/live/0/MAIN
        -c:v copy -c:a aac -ar 44100 -b:a 128k -f flv rtmp://49.50.74.61:6002/live/stream3

